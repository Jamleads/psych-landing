<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>psychinsightsapp</title>
    <link rel="shortcut icon" href="./img/logo.svg" type="image/x-icon" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              clifford: "#da373d",
            },
          },
        },
      };
    </script>
    <style>
      input:focus {
        outline: none;
      }
      .hide {
        display: none !important;
        color: #2097af19;
      }
    </style>
  </head>

  <body class="">
    <nav class="flex items-center py-5 md:px-10 px-5 justify-between shadow-xl">
      <div class="log">
        <a href="/">
          <img src="./img/logo.svg" alt="lofo" />
        </a>
      </div>
      <div class="nav_links">
        <ul
          class="flex items-center gap-5 justify-between md:text-base text-xs"
        >
          <li>
            <a href="https://psychinsightsapp.com/about.php" target="_blank"
              >About us</a
            >
          </li>
          <li>
            <a href="https://psychinsightsapp.com/help.php" target="_blank"
              >Help</a
            >
          </li>
        </ul>
      </div>
    </nav>

    <section
      class="showcase md:h-[80vh] md:flex flex-col gap-16 items-center justify-center md:mt-0 mt-16"
    >
      <div
        class="showcase md:w-[80%] md:mx-auto md:flex items-center justify-between gap-20"
      >
        <div
          class="text md:w-1/2 flex flex-col items-center justify-center text-center md:px-20 gap-5"
        >
          <h1
            class="font-bold md:text-5xl text-3xl text-[#2E2F32] md:leading-[70px]"
          >
            Still Battling Your Inner Critic?
          </h1>
          <p class="font-light text[#2E2F32]">
            If you still hear that voice in your head, constantly replaying
            doubts, fears, and anxiety… I’ve got great news for you.
          </p>
        </div>

        <div class="video md:w-1/2 md:mt-0 mt-10">
          <div class="h-[370px] bg-[#207384]">
            <video class="h-full w-full" autoplay controls>
              <source src="./img/Promo.mp4" type="video/mp4" />
            </video>
          </div>
        </div>
      </div>

      <div class="subscribe md:w-[50%] md:mt-0 mt-10">
        <form action="" class="md:flex items-center justify-between">
          <input
            type="email"
            required
            placeholder="Enter your email to join waitlist"
            class="emailField px-5 py-2 rounded-2xl border-2 border-[#207384] md:w-[80%] w-full bg-transparent"
          />
          <div class="flex items-center justify-center">
            <button
              type="submit"
              class="btn py-2 px-5 rounded-2xl bg-[#2097afc5] text-white md:mt-0 mt-5 hover:bg-[#207384]"
            >
              Join Waitlist
            </button>
          </div>
        </form>
      </div>
    </section>

    <section
      class="hidden message h-[80vh] justify-center items-center flex md:px-0 p-5"
    >
      <div
        class="md:w-1/2 md:p-20 py-10 px-5 bg-[#2097af19] shadow-5xl mx-auto flex flex-col gap-10 items-center justify-center text-center"
      >
        <img src="./img/logo.svg" alt="" />
        <p class="text-[#207384]">
          Thank you for signing up for our email list. Please check your email
          and follow the prompts to secure your place ahead of our launch.
        </p>
      </div>
    </section>
  </body>

  <script>
    const emailField = document.querySelector(".emailField");
    const submitBtn = document.querySelector(".btn");
    const message = document.querySelector(".message");
    const showcase = document.querySelector(".showcase");
    const submit = async () => {
      const emailValue = emailField.value;
      const form_id = "6504490";

      config = {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          email: emailValue,
          api_key: "-lv7itEotIACbi9Uvxeapg",
        }),
      };

      if (emailValue === "") {
        alert("Please enter your email");
      } else {
        const response = await fetch(
          `https://api.convertkit.com/v3/forms/${form_id}/subscribe`,
          config
        );
        if (response.ok) {
          message.classList.remove("hidden");
          showcase.classList.add("hide");
        }
      }
    };
    submitBtn.addEventListener("click", (e) => {
      e.preventDefault();
      submit();
    });
  </script>
</html>
